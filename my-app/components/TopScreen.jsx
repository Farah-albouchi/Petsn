import React, { useState } from 'react';
import { Image, StyleSheet, View } from 'react-native';
import { ThemedText } from '@/components/ThemedText';
import MaterialIcons from '@expo/vector-icons/MaterialIcons';
import PropTypes from 'prop-types';
import Svg, { Path } from 'react-native-svg';
const TopBar = ({ screen }) => {

  const [notifications, setNotifications] = useState(true)
  const SingleSidedShadowBox = ({ children, style }) => (
    <View style={[styles.container, style]}>
      {children}
    </View>
  );

  SingleSidedShadowBox.propTypes = {
    children: PropTypes.element,
    style: PropTypes.object,
  };

  return (
    <SingleSidedShadowBox>
      <View style={styles.innerContainer}>
        <Image
          source={require('@/assets/images/Petsn.png')}
          style={styles.image}
          resizeMode="contain"
        />
        <ThemedText style={styles.title} type='Top'>{screen}</ThemedText>
        <Svg style={styles.notificationsIconContainer} width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <Path d="M11.6626 15.9067C11.604 16.2004 11.5006 16.4699 11.3517 16.7154C11.1979 16.9687 10.9966 17.1957 10.7479 17.3963C10.4992 17.5965 10.2279 17.7474 9.93535 17.8483C9.6422 17.9493 9.33029 17.9999 9.00085 17.9999C8.67125 17.9999 8.35949 17.9493 8.06619 17.8483C7.7735 17.7475 7.5025 17.5965 7.2538 17.3963C7.00495 17.1957 6.80362 16.9685 6.64982 16.7154C6.49632 16.4623 6.39112 16.1837 6.33391 15.8796C6.30607 15.7309 6.41004 15.5885 6.56615 15.5619C6.57107 15.5611 6.61675 15.5569 6.61675 15.5566H11.3848C11.5443 15.5566 11.6735 15.6796 11.6735 15.8312C11.6733 15.8575 11.6698 15.8827 11.6626 15.9067ZM10.5198 1.00614C10.7537 1.06429 10.9809 1.1349 11.2011 1.21766C11.5255 1.33954 11.8371 1.48661 12.1357 1.65814C12.1473 1.66503 12.1587 1.67235 12.17 1.67982C12.4562 1.8474 12.7224 2.03153 12.968 2.23236C13.2249 2.44242 13.4644 2.6746 13.6863 2.92875L13.6881 2.93065H13.6884C13.9053 3.18085 14.0994 3.44789 14.2709 3.73075C14.443 4.01508 14.5902 4.31112 14.7119 4.61786L14.7125 4.61771C14.8383 4.93324 14.9324 5.25668 14.9945 5.58773C15.057 5.9204 15.0879 6.26141 15.0879 6.61078C15.0879 7.30131 15.0879 7.67382 15.0882 7.71908C15.0897 8.07313 15.0917 8.41913 15.0945 8.75692V8.76044C15.0957 9.06556 15.1168 9.3726 15.1566 9.68021C15.196 9.98446 15.2537 10.2783 15.3281 10.5612L15.3288 10.561C15.4035 10.8399 15.5046 11.1081 15.6313 11.3657C15.7614 11.6308 15.9197 11.8901 16.1059 12.1436L16.1068 12.1431C16.2906 12.3916 16.5207 12.6371 16.7971 12.8794C17.0824 13.1298 17.4139 13.375 17.7908 13.6152C18.0071 13.7532 18.0651 14.0321 17.92 14.2382C17.8293 14.3673 17.6802 14.4371 17.5283 14.4373V14.4388H13.2646H9.00085H4.73682H0.473097C0.211786 14.4388 0 14.237 0 13.9883C0 13.8247 0.0915127 13.6816 0.228397 13.6026C0.61152 13.3557 0.940504 13.1113 1.2152 12.869C1.4885 12.6279 1.71736 12.3812 1.90146 12.1286C1.907 12.1211 1.91254 12.1139 1.91838 12.1069C2.09633 11.8587 2.2486 11.6059 2.37471 11.3491C2.50299 11.0879 2.60588 10.8185 2.68294 10.541C2.68447 10.5351 2.68617 10.5294 2.68801 10.5237C2.76107 10.2541 2.81674 9.97011 2.85535 9.6723C2.89411 9.37245 2.91349 9.06278 2.91349 8.74403V6.61078C2.91349 6.26801 2.94578 5.92655 3.01023 5.58729C3.07467 5.24847 3.16957 4.92313 3.29461 4.61244C3.41904 4.30175 3.56822 4.00394 3.74141 3.71947C3.91351 3.4369 4.11007 3.16825 4.33016 2.91439L4.33278 2.91146L4.33216 2.91088C4.55179 2.66083 4.7928 2.42865 5.05519 2.21522C5.31404 2.00472 5.5935 1.81342 5.89341 1.64188C6.19718 1.46918 6.51093 1.32416 6.83592 1.20668C7.06185 1.12494 7.2941 1.05638 7.53249 1.00087C7.61385 0.729724 7.75351 0.510291 7.95114 0.342273C8.22399 0.110242 8.58373 -0.0035765 9.03007 8.56139e-05C9.47225 0.00374772 9.82892 0.120349 10.0993 0.35033C10.2976 0.518933 10.4378 0.737488 10.5198 1.00614ZM10.8576 2.05526C10.5959 1.95712 10.3291 1.87977 10.0573 1.82426C9.84799 1.79847 9.67558 1.64071 9.64882 1.43212C9.62329 1.23568 9.56407 1.09799 9.47133 1.01918C9.37828 0.939929 9.22863 0.8995 9.02269 0.897742C8.81813 0.895984 8.67032 0.933777 8.57943 1.01112C8.48715 1.08964 8.4287 1.22865 8.40409 1.4286H8.40363C8.38087 1.61947 8.23029 1.78221 8.02158 1.81928C7.72705 1.87245 7.44298 1.94862 7.16844 2.04794C6.89436 2.14696 6.6309 2.26869 6.37743 2.41268C6.12504 2.55697 5.8888 2.71898 5.66856 2.89799C5.44862 3.07684 5.24452 3.27386 5.05642 3.48803L5.05581 3.48759C4.87216 3.69984 4.70606 3.92748 4.55841 4.17006C4.41306 4.40868 4.28602 4.66312 4.17805 4.9328C4.07008 5.20087 3.99011 5.47216 3.93812 5.74579C3.88583 6.0203 3.85983 6.30887 3.85983 6.61093V8.74432C3.85983 9.09764 3.83784 9.44364 3.79416 9.78187C3.75202 10.1077 3.68758 10.4305 3.60098 10.7494C3.59945 10.7563 3.59775 10.7633 3.59591 10.7702C3.50563 11.0953 3.38305 11.415 3.22847 11.7295C3.07929 12.0332 2.90164 12.3285 2.69616 12.6152C2.69032 12.6245 2.68417 12.6338 2.67755 12.6429C2.461 12.9396 2.18661 13.2345 1.8544 13.5275L1.8424 13.5379H4.73682H9.00085H13.2646H16.1541C15.8294 13.2528 15.5562 12.9604 15.3346 12.6606L15.3352 12.66L15.3346 12.6588C15.1168 12.3623 14.9309 12.0579 14.7777 11.7461C14.6211 11.4279 14.4994 11.1068 14.4124 10.7829L14.4127 10.7828L14.4124 10.7812C14.327 10.4586 14.2618 10.1277 14.218 9.78934C14.1763 9.46576 14.154 9.1243 14.1522 8.76512V8.7641C14.1494 8.43041 14.1474 8.08207 14.1459 7.71923C14.1431 7.04774 14.142 6.68124 14.142 6.61093C14.142 6.31444 14.1159 6.02616 14.0633 5.74637C14.011 5.46761 13.9328 5.19808 13.8293 4.93822L13.8299 4.93807L13.8293 4.93646C13.7231 4.66854 13.598 4.41542 13.4542 4.17797C13.3106 3.9411 13.146 3.71522 12.9603 3.50092L12.9607 3.50077C12.7766 3.29012 12.5746 3.09501 12.3548 2.91527C12.1418 2.74125 11.9168 2.5848 11.6792 2.4455C11.6687 2.44037 11.6581 2.43495 11.6479 2.42894C11.3916 2.28187 11.1282 2.15692 10.8576 2.05526Z" fill="#231F20" />
        </Svg>

        {notifications && (
          <View style={styles.redDot} />
        )}

      </View>
    </SingleSidedShadowBox>
  );
};

const styles = StyleSheet.create({
  container: {
    overflow: 'hidden',
    paddingBottom: 5,
  },
  innerContainer: {
    width: "100%",
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    paddingHorizontal: '4%',
    paddingTop: '8%',
    paddingBottom: '3%',
    backgroundColor: '#fff',
    shadowColor: '#000',
    shadowOffset: { width: 1, height: 1 },
    shadowOpacity: 0.4,
    shadowRadius: 3,
    elevation: 5,
  },
  image: {
    width: '17%',
    aspectRatio: 2,
    borderColor: 'black',
  },
  title: {
    flex: 1,
    textAlign: 'center',

  },

  notificationsIconContainer: {
    position: 'relative',
  },
  redDot: {
    position: 'absolute',
    top: 30,
    right: 14,
    width: 8,
    height: 8,
    borderRadius: 4,
    backgroundColor: 'red',
  },
});

export default TopBar;
